---
title: DebitRedirect
updated_on: Sat Sep 29 21:20:24 +0600 2012
---

h1. Автоматическое перенаправление дебета

При использовании автоматического подбора корреспондирующего счёта для дебета поддерживается автоматическое перенаправление части суммы.

Например, пусть в исходном файле есть запись о том, что счёт A1 кредитуется на 1000р. Автоматически находится второй счёт A2, который надо дебетовать на 1000р. Но для счёта A2 выставлен параметр redirect, и его текущий баланс — всего 800р. В таком случае срабатывает автоматическое перенаправление дебета. Со счёта A2 снимается 800р (остаётся 0). Для снятия оставшихся 200р ищется (по общим правилам поиска корреспондирующего счёта) ещё один счёт A3, и с него снимается оставшаяся сумма. Для найденного счёта может, в свою очередь, оказаться выставлен параметр redirect; в этом случае с него снимается «сколько есть» и для остатка суммы ищется следующий счёт. Таким образом, при соответствующей настройке плана счетов одна кредитовая полупроводка может автоматически породить произвольное количество дебетовых полупроводок.

Для поиска счёта для остатка суммы полупроводке выставляется параметр redirectedFrom = $name, где $name — имя счёта, с которого выполняется перенаправление.

Синтаксис в плане счетов:
<pre>
account A1 {
  redirect;
};
</pre>

Параметр redirect может быть выставлен только для свободных счетов.