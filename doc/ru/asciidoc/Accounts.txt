План счетов
===========

План счетов — это классификация счетов по определённым правилам. В случае домашней бухгалтерии, правила классификации счетов могут быть произвольными. Существуют также относительно общепринятые правила организации плана счетов (например, выделяются группы счетов доходов, расходов, активов и пассивов).

По умолчанию план счетов читается из файла +~/.config/yaledger/default.accounts+. Использование другого файла может быть задано параметром «chart-of-accounts» link:Config[конфигурационного файла] или опцией командной строки -C.

Файл плана счетов содержит описание групп счетов, состоящих из других групп и счетов. Таким образом, план счетов образует дерево. План счетов должен содержать единственную корневую группу.

Группа счетов описывается конструкцией вида

    group [ИМЯ_ГРУППЫ] [ТИП] {
      [АТРИБУТЫ];
      [ДОЧЕРНИЕ ГРУППЫ И СЧЕТА];
    );

Здесь:

* [ИМЯ_ГРУППЫ] — имя группы.
* [ТИП] — тип группы. Может быть «(credit)» или «(debit)». Если не указано, то группа является свободной. Иначе группа является соответственно кредитовой или дебетовой. Кредитовая группа может содержать только кредитовые счета и другие кредитовые группы. Дебетовая — аналогично. Свободная группа может содержать кредитовые, дебетовые или свободные группы и счета. Если группа является дебетовой или кредитовой, то для её дочерних групп и счетов тип указывать нельзя.
* [АТРИБУТЫ] — link:Attributes[атрибуты] группы счетов. Существенным является только параметр currency — он задаёт валюту для счетов данной группы по умолчанию. Валюта счёта может быть также явно задана в описании счёта.

Счёт описывается конструкцией вида

    account [ИМЯ_СЧЁТА] [ТИП] {
      [redirect;]
      [info = ЧИСЛО;]
      [warning = ЧИСЛО;]
      [error = ЧИСЛО;]
      [АТРИБУТЫ];
    };

[ТИП] задаёт тип счёта. Может быть «(credit)» или «(debit)». Если не указано, то счёт является свободным. Тип счёта нельзя указывать, если его родительская группа является дебитовой или кредитовой.

Параметр «redirect;» задаёт link:DebitRedirect[автоматическое перенаправление части дебета] с данного счёта.

Параметры info, warning, error определяют link:BalanceChecks[проверки текущих балансов] счёта перед выполнением полупроводок.

Существенным атрибутом счёта является currency — валюта счёта. Если валюта счёта не задана, то она наследуется от родительской группы.
